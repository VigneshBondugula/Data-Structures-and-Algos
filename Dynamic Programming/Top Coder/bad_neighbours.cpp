#include <iostream>
#include <vector>
#include<math.h>

using namespace std;

int badNeighbours(int *a, int size) {

 if(size == 2) {
   int sum = max(a[0], a[1]);
   return sum;
 }

 int i, j;
 int *s = (int *)malloc(sizeof(int)*size);
 int *b = (int *)malloc(sizeof(int)*size);

 s[0]=a[0];
 s[1]=a[1];
 b[0]=1;
 b[1]=0;

 for(i=2;i<size;i++) {
    s[i]=0;
    b[i]=0;
 }

 for(i=2;i<size;i++) {
    for(j=0;j<i-1;j++) {
       if(s[i]<s[j]+a[i]) {
        s[i]=s[j]+a[i];
        b[i]=b[j];
       }
    }
 }

 if(b[size-1]==0) {
   return s[size-1];
 } else {
   int mini = min(a[0], a[size-1]);
   int sum = max(s[size-2], s[size-1]-mini);
   return sum;
 }
 return 0;
}
int main()
{
    // int arr[]= { 1, 2, 3, 4, 5, 1, 2, 3, 4, 5 };
    // int arr[] = { 11, 15 };

    // int arr[] = { 7, 7, 7, 7, 7, 7, 7 };

    int arr[] = { 1, 2, 3, 4, 5, 1, 2, 3, 4, 5 };

    // int arr[] = { 94, 40, 49, 65, 21, 21, 106, 80, 92, 81, 679, 4, 61,
    // 6, 237, 12, 72, 74, 29, 95, 265, 35, 47, 1, 61, 397,
    // 52, 72, 37, 51, 1, 81, 45, 435, 7, 36, 57, 86, 81, 72 };
    // int arr[] = {10, 3, 2, 5, 1};

    // int arr[] = {590, 260, 60, 331, 929, 661, 675, 181, 593,
    //     69, 253, 675, 410, 328, 734, 560, 547, 520, 408, 108, 346, 14,
    //     982, 808, 944, 896, 558, 691, 941, 341, 306, 471, 750, 592,
    //     279, 205, 485, 483, 895, 415};

    // int arr[] = {442, 851, 111, 479, 261, 770, 194, 619, 864, 263,
    //     323, 15, 110, 37, 926, 399, 916, 824, 811, 988, 290, 135, 633, 766,
    //     293, 554, 193, 943, 480, 239, 391, 865, 778, 962, 383, 792, 42,
    //     836, 646, 727};*/
    // int arr[] = {90, 1, 2, 89, 3, 4, 88, 5, 6, 87, 5, 4, 86, 3, 2, 85};

    // int arr[] = {307, 322, 35, 140, 667, 1, 884, 44, 546, 239,
    //     548, 881, 222, 459, 55, 158, 642, 280, 237, 561, 925, 539, 38,
    //     699, 107, 116, 449, 418, 720, 487, 983, 743};

    // int arr[] = {917, 19, 978, 687, 346, 245, 677, 708, 565, 940,
    //     211, 127, 993, 768, 469, 279, 460, 335, 734, 130, 691, 783, 182,
    //     391, 827, 295, 534, 263, 193, 498, 327, 120, 690
    // };

    int n = sizeof(arr)/sizeof(arr[0]);
    cout<<badNeighbours(arr,n)<<endl;
    return 0;


}